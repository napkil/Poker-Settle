# Poker Settle - 撲克結算工具

一個專為撲克牌局設計的結算工具，讓您能夠輕鬆管理玩家、記錄交易並計算最終結算。

## 功能特色

### 🎯 三大核心功能
- **玩家管理**：輕鬆新增/刪除玩家
- **交易記帳**：記錄買入和加碼，支援快速金額鍵
- **智能結算**：自動計算最簡轉帳路徑，顯示詳細輸贏結果

### 📱 手機優化
- 響應式設計，完美支援手機操作
- 使用 Pico.css 框架，介面簡潔美觀
- 繁體中文介面，操作直覺

### 🔧 技術特點
- 單一 HTML 檔案，無需安裝
- 使用 Vanilla JavaScript (ES6+)
- 內建智能結算演算法
- 可自訂容錯差額設定

## 使用方法

### 1. 玩家管理
- 在「玩家管理」分頁中新增參與遊戲的玩家
- 可隨時刪除玩家（會同時刪除相關交易記錄）
- 初始狀態沒有預設玩家，請自行新增

### 2. 記帳功能
- 切換到「記帳」分頁
- 選擇玩家並輸入金額
- **快速金額鍵**：點擊 $500、$1000、$2000 按鈕快速輸入
- 分別記錄「買入」和「加碼」
- 所有交易都會顯示在歷史記錄表格中

### 3. 結算計算
- 在「結算」分頁為每位玩家輸入最終籌碼
- **容錯設定**：可調整容許的差額範圍（預設 $20）
- 系統會自動計算籌碼合計、買入合計和差額
- 差額超出容忍度時會以紅色警示
- 點擊「計算結果」按鈕獲得結算結果

### 4. 結算結果顯示
結算後會顯示兩個部分：

#### 玩家輸贏結果
- 按輸贏金額由高到低排列
- 🟢 **贏錢用綠色**顯示（+$金額）
- 🔴 **輸錢用紅色**顯示（-$金額）

#### 轉帳指示
- 顯示最簡化的轉帳路徑
- 清楚指示誰付錢給誰以及金額

## 演算法說明

### 結算邏輯
1. 計算每位玩家的淨輸贏（最終籌碼 - 總買入）
2. 將玩家分為債權人（贏錢）和債務人（輸錢）
3. 使用貪婪演算法計算最少轉帳次數
4. 輸出清晰的轉帳指示

### 容錯機制
- **可調整差額容忍度**：有時候籌碼清點會有小誤差，可設定容許範圍
- 輸入驗證：防止無效資料導致計算錯誤
- 友善提示：清楚的錯誤訊息和操作指引

## 新功能亮點

### ✨ 快速金額鍵
在記帳頁面提供三個快速按鈕：
- **$500** - 適合小額買入
- **$1000** - 標準買入金額
- **$2000** - 大額買入

### ⚙️ 容錯差額設定
- 可自訂容許的差額範圍
- 預設為 $20，可根據需要調整
- 當籌碼總數與買入總數差異在容許範圍內時可正常結算

### 📊 詳細結算結果
結算後會顯示：
1. **玩家輸贏排行**：清楚看出誰是大贏家、誰輸得最多
2. **轉帳指示**：最簡化的付款路徑

## 快速開始

1. 用瀏覽器開啟 `index.html` 檔案
2. 在「玩家管理」分頁新增參與遊戲的玩家
3. 在「記帳」分頁記錄每次買入和加碼
4. 遊戲結束後在「結算」分頁輸入最終籌碼並計算結果

## 瀏覽器相容性

- ✅ Chrome/Edge (推薦)
- ✅ Firefox
- ✅ Safari
- ✅ 手機瀏覽器

## 使用建議

### 💡 最佳實務
- 記得在遊戲開始時記錄所有玩家的初始買入
- 每次加碼都要及時記錄
- 遊戲結束時仔細清點每位玩家的籌碼
- 如果差額過大，檢查是否有遺漏的交易或籌碼計算錯誤

### ⚠️ 注意事項
- 刪除玩家會同時刪除該玩家的所有交易記錄
- 容錯設定建議根據遊戲規模調整（小局可設定較小的容錯值）
- 建議在重要遊戲前先測試一下功能

---

**開發資訊**
- 技術棧：HTML5 + CSS3 + Vanilla JavaScript
- 框架：Pico.css
- 版本：2.0
- 最後更新：2025年8月

**更新記錄**
- v2.0：移除假資料、新增快速金額鍵、容錯設定、詳細結算結果顯示
- v1.0：基礎功能實現
